---
title: "同じ内容で連番のファイルを作成する"
emoji: "👻"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["shellscript"]
published: false
---

## 同じ内容で連番のファイルが欲しい

- たとえば、テンプレートをもとに日付ごとのファイルを作る
- たとえば、プログラミングコンテストで解答するために問題番号ごとのファイルを作る

## コマンドラインで作る

日記を作る場面での例。

```sh
cd /path/to/dialy/2021/05
seq -f %02g 1 31 | sed -e 's/$/.md/' | xargs -n 1 cp /path/to/template
# 01.md ~ 31.md が生成される
```

### `seq`

- パラメータをもとに連番を出力するコマンド
- `-f` オプションでフォーマットを調整できる
    - `%02g` とすると2桁のゼロ埋めにできる

### `sed`

- 行単位で追記するために使用
- `s/$/.md` と指定することで、末尾に `.md` を付与する

### `xargs`

- 入力からコマンドを組み立てて実行するコマンド
- `-n` オプションで、コマンドを組む際に使う引数の上限数を指定する
    - 無指定の場合、いい感じの個数が選ばれる

### `cp`

- ファイルを複製するコマンド
- パラメータの内、最後のパスに向かって出力する
    - `xargs -n 1` となった理由

## 参考リンク

- [bash でゼロパディングされた数字列を作成する - Qiita](https://qiita.com/hitode7456/items/4f1c2715192e297ceb51)
- [【 sed 】コマンド（基礎編その3）――行を追加する／挿入する：Linux基本コマンドTips（55） - ＠IT](https://www.atmarkit.co.jp/ait/articles/1610/13/news015.html)
- [【 xargs 】コマンド――コマンドラインを作成して実行する：Linux基本コマンドTips（176） - ＠IT](https://www.atmarkit.co.jp/ait/articles/1801/19/news014.html)
- [【 cp 】コマンド――ファイルをコピーする：Linux基本コマンドTips（17） - ＠IT](https://www.atmarkit.co.jp/ait/articles/1605/31/news019.html)
